(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{2427:function(e,t,r){Promise.resolve().then(r.bind(r,2832))},4880:function(e,t,r){"use strict";var a,n;function l(e){return fetch("https://meiristg.genreihoutengu.workers.dev",{method:"POST",body:e}).then(e=>e.text())}r.d(t,{Lz:function(){return a},Ux:function(){return c},Xu:function(){return s},a1:function(){return i},ei:function(){return d},et:function(){return o},v_:function(){return l},vo:function(){return x},zq:function(){return u}});let s=["8/14 (月)","8/15 (火)","8/16 (水)","8/17 (木)","8/18 (金)","8/19 (土)","8/20 (日)","8/21 (月)","8/22 (火)","8/23 (水)","8/24 (木)","8/25 (金)","8/26 (土)","8/27 (日)","8/28 (月)","8/29 (火)","8/30 (水)","8/31 (木)","9/1 (金)","9/2 (土)","9/3 (日)"],c=["東方紅魔郷","東方妖々夢","東方永夜抄","東方風神録","東方地霊殿","東方星蓮船","妖精大戦争","東方神霊廟","東方輝針城","東方紺珠伝","東方天空璋","東方鬼形獣","東方虹龍洞"],i=["東方紅魔郷","東方妖々夢","東方永夜抄","東方風神録","東方地霊殿","東方星蓮船","東方神霊廟","東方輝針城","東方紺珠伝","東方天空璋","東方鬼形獣","東方虹龍洞"],o=["東方紅魔郷","東方妖々夢","東方妖々夢(救済あり)","東方永夜抄","東方風神録","東方地霊殿","東方星蓮船","東方星蓮船(救済あり)","妖精大戦争","東方神霊廟","東方神霊廟(救済あり)","東方輝針城","東方紺珠伝","東方天空璋","東方天空璋(救済あり)","東方鬼形獣","東方鬼形獣(救済あり)","東方虹龍洞","東方虹龍洞(救済あり)"],u=["初級","中級","上級"],d=["Easy","Normal","Hard","Lunatic","Extra","Phantasm"];(n=a||(a={}))[n.OCC=0]="OCC",n[n.OCCP=1]="OCCP",n[n.NB=2]="NB";let h={0:[0,1,4,5],1:[2,3,4,5],2:[3]},m={0:[],1:[1,2],2:[2,3]},p={0:[],1:[1,2,3],2:[1,2,3]};function x(e,t,r,n){if(5===r&&1!==n)return!1;switch(e){case a.OCC:return h[t].includes(r);case a.OCCP:return m[t].includes(r);case a.NB:return p[t].includes(r);default:return!1}}},2832:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var a=r(7437),n=r(2265),l=r(4880);function s(e){var t,r,n;let{data:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["1. ",(0,a.jsx)("a",{href:"https://docs.google.com/document/d/1P4EFx_TZG2nu0eXmlYo4DrR4amvR160WOV2oEf753Mo/edit?usp=sharing",children:"本大会のルール"}),"を確認してください。"]}),(0,a.jsxs)("p",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"checkbox",checked:s.accept[0],onChange:e=>s.accept[1](e.target.checked)}),"確認しました。本大会のルールを遵守します。"]}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"2. 本大会で使用する名前（フリガナ）を教えてください。"}),(0,a.jsx)("p",{className:"ml-1rem",children:(0,a.jsx)("input",{className:"w-100",type:"text",placeholder:"例：明理（メイリ）",value:s.name[0],onChange:e=>s.name[1](e.target.value)})}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"3. 連絡用のDiscordアカウントのIDを教えてください。"}),(0,a.jsx)("blockquote",{children:"画面配信用とマイク用とを分けたいなどの理由から複数アカウントが必要な場合は、サーバ加入後、運営に連絡してください。"}),(0,a.jsx)("p",{className:"ml-1rem",children:(0,a.jsx)("input",{className:"w-100",type:"text",placeholder:"例：meiri or めいり#0000",value:s.discord[0],onChange:e=>s.discord[1](e.target.value)})}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"4. クリア実績シートを提出してください。"}),(0,a.jsxs)("p",{className:"ml-1rem",children:[(0,a.jsxs)("label",{className:"file",children:[(0,a.jsx)("input",{type:"file",accept:".pdf",onChange:e=>{var t;return s.clearsheet[1](null!==(r=null===(t=e.target.files)||void 0===t?void 0:t.item(0))&&void 0!==r?r:null)}}),"ファイルを選択"]}),null!==(n=null===(t=s.clearsheet[0])||void 0===t?void 0:t.name)&&void 0!==n?n:"ファイル未選択",s.is_edit[0]?"(アップロード済み)":""]}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"5. 参加可能な時間帯をすべて教えてください。"}),(0,a.jsxs)("blockquote",{children:["19時30分から25時まで。hh:mm-hh:mmで入力。複数区間がある場合は「,」で区切る。参加不可能な日は空欄。 例：19:30-22:00,23:00-25:00",(0,a.jsx)("br",{}),"一区間二時間は確保するようお願いします。"]}),(0,a.jsxs)("table",{className:"ml-1rem w-100 fs-0_8rem center",children:[(0,a.jsx)("thead",{}),(0,a.jsx)("tbody",{children:s.date.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"plr-0_5rem min",children:l.Xu[t]}),(0,a.jsx)("td",{className:"plr-0_5rem",children:(0,a.jsx)("input",{className:"w-100 box",type:"text",value:e[0],onChange:t=>e[1](t.target.value)})})]},t))})]})]})}function c(e){let{data:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"1. 審判員（副審）として参加しますか。"}),(0,a.jsxs)("p",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.refree[0],onChange:e=>t.refree[1](e.target.checked)}),"審判員（副審）として参加します。"]})]})}function i(e){let{data:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"1. 実況者として参加しますか。"}),(0,a.jsxs)("p",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.commentator[0],onChange:e=>t.commentator[1](e.target.checked)}),"実況者として参加します。"]}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"2. 実況を希望する作品を教えてください。"}),t.comm_works.map((e,t)=>(0,a.jsxs)("div",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"checkbox",checked:e[0],onChange:t=>e[1](t.target.checked)}),l.Ux[t]]},t))]})}function o(e){return 0===e.level&&e.part!==l.Lz.OCC?(0,a.jsx)("p",{className:"ml-1rem",children:"出場できません。"}):(0,a.jsxs)("table",{className:"ml-1rem center",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"plr-0_5rem fw-normal"}),e.target[0].map((t,r)=>(0,l.vo)(e.part,e.level,r,1)&&(0,a.jsx)("th",{className:"plr-0_5rem fw-normal",children:l.ei[r]},r))]})}),(0,a.jsx)("tbody",{children:e.target.map((t,r)=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"left",children:[e.part===l.Lz.OCC&&l.Ux[r],e.part===l.Lz.OCCP&&l.a1[r],e.part===l.Lz.NB&&l.et[r]]}),t.map((t,n)=>(0,l.vo)(e.part,e.level,n,r)&&(0,a.jsx)("td",{children:(0,a.jsx)("input",{type:"checkbox",checked:t[0],onChange:e=>t[1](e.target.checked)})},n))]},r))})]})}function u(e){let{data:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"1. 選手として参加しますか。"}),(0,a.jsxs)("p",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.runner[0],onChange:e=>t.runner[1](e.target.checked)}),"選手として参加します。"]}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"2. DiscordのGo Live機能を用いてゲームを配信できますか。"}),(0,a.jsxs)("p",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.golive[0],onChange:e=>t.golive[1](e.target.checked)}),"配信できます。"]}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"3. 希望する参加レベルを教えてください。"}),(0,a.jsxs)("div",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"radio",name:"level",checked:0===t.level[0],onChange:()=>t.level[1](0)}),"初級"]}),(0,a.jsxs)("div",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"radio",name:"level",checked:1===t.level[0],onChange:()=>t.level[1](1)}),"中級"]}),(0,a.jsxs)("div",{className:"ml-1rem",children:[(0,a.jsx)("input",{type:"radio",name:"level",checked:2===t.level[0],onChange:()=>t.level[1](2)}),"上級"]}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"4.【1CC】出場希望の種目を教えてください。"}),(0,a.jsx)(o,{part:l.Lz.OCC,level:t.level[0],target:t.occ}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"5.【1CC+】出場希望の種目を教えてください。"}),(0,a.jsx)(o,{part:l.Lz.OCCP,level:t.level[0],target:t.occp}),(0,a.jsx)("hr",{className:"spacer"}),(0,a.jsx)("p",{children:"6.【NB】出場希望の種目を教えてください。"}),(0,a.jsx)(o,{part:l.Lz.NB,level:t.level[0],target:t.nb})]})}function d(e){let[t,r]=(0,n.useState)(e.tabs[0]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"center-container",children:e.tabs.map(e=>(0,a.jsx)("button",{className:e===t?"tab tab-selected":"tab",onClick:()=>r(e),children:e},e))}),"全体"===t&&(0,a.jsx)(s,{data:e.data}),"審判員"===t&&(0,a.jsx)(c,{data:e.data}),"実況者"===t&&(0,a.jsx)(i,{data:e.data}),"選手"===t&&(0,a.jsx)(u,{data:e.data})]})}function h(e){let t=[];for(let r=0;r<e.length;++r){let a=0;for(let t=0;t<e[r].length;++t)e[r][t][0]&&(a|=1<<t);t.push({integerValue:a})}return t}function m(e,t){for(let r=0;r<e.length;++r)for(let a=0;a<t[r].length;++a)t[r][a][1]((e[r].integerValue&1<<a)!=0)}function p(e){let{data:t}=e,[r,s]=(0,n.useState)(""),[c,i]=(0,n.useState)("");return(0,a.jsx)(a.Fragment,{children:0===t.state[0]&&(0,a.jsx)("div",{className:"modal-bg",children:(0,a.jsxs)("div",{className:"modal",children:[(0,a.jsx)("p",{children:"【IDとPasswordを入力】"}),(0,a.jsxs)("p",{children:["新規登録時は好きに入力して「新規登録」",(0,a.jsx)("br",{}),"修正時は新規登録時に入力したIDとPasswordを入力して「ログイン」"]}),(0,a.jsx)("p",{children:"運営者に見えるので普段利用しているものは使わない方が良いです。"}),(0,a.jsxs)("table",{className:"w-100",children:[(0,a.jsx)("thead",{}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:"ID"}),(0,a.jsx)("td",{children:(0,a.jsx)("input",{className:"w-100",type:"text",placeholder:"id",value:r,onChange:e=>s(e.target.value)})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:"Password"}),(0,a.jsx)("td",{children:(0,a.jsx)("input",{className:"w-100",type:"text",placeholder:"password",value:c,onChange:e=>i(e.target.value)})})]})]})]}),(0,a.jsxs)("p",{className:"right-container",children:[(0,a.jsx)("button",{className:"submit",onClick:()=>(function(e,t,r){if(0===t.trim().length||0===r.trim().length){alert("IDとPasswordを入力してください");return}let a=new FormData;a.append("type","check"),a.append("uid",t),(0,l.v_)(a).then(a=>{"no"===a?(e.state[1](1),e.uid[1](t),e.password[1](r)):alert("IDが既に使用されています")})})(t,r,c),children:"新規登録"}),(0,a.jsx)("button",{className:"submit",onClick:()=>(function(e,t,r){let a=new FormData;a.append("type","get"),a.append("uid",t),a.append("password",r),(0,l.v_)(a).then(r=>{var a;let n={};try{n=JSON.parse(r)}catch(e){console.log(r),alert("IDかPasswordが間違っています");return}e.state[1](1),e.is_edit[1](!0),a=n,e.uid[1](t),e.password[1](a.password.stringValue),e.accept[1](a.accept.booleanValue),e.name[1](a.name.stringValue),e.discord[1](a.discord.stringValue),a.date.arrayValue.values.forEach((t,r)=>e.date[r][1](t.stringValue)),e.refree[1](a.refree.booleanValue),e.commentator[1](a.commentator.booleanValue),a.comm_works.arrayValue.values.forEach((t,r)=>e.comm_works[r][1](t.booleanValue)),e.runner[1](a.runner.booleanValue),e.golive[1](a.golive.booleanValue),e.level[1](Number(a.level.integerValue)),m(a.occ.arrayValue.values,e.occ),m(a.occp.arrayValue.values,e.occp),m(a.nb.arrayValue.values,e.nb)})})(t,r,c),children:"ログイン"})]})]})})})}async function x(e,t){for(let[e,r]of t)if(!e){alert("全ての項目にチェックを入れてください");return}if(null!==e.clearsheet[0]){let t=new FormData;t.append("type","cs"),t.append("uid",e.uid[0]),t.append("file",e.clearsheet[0]);let r=await (0,l.v_)(t);if("ok"!==r){alert("クリアシートの送信に失敗しました");return}}let r=new FormData;r.append("type",e.is_edit[0]?"edit":"add"),r.append("uid",e.uid[0]),r.append("body",JSON.stringify({fields:{password:{stringValue:e.password[0].trim()},accept:{booleanValue:e.accept[0]},name:{stringValue:e.name[0].trim()},discord:{stringValue:e.discord[0].trim()},date:{arrayValue:{values:e.date.map(e=>({stringValue:e[0].trim()}))}},refree:{booleanValue:e.refree[0]},commentator:{booleanValue:e.commentator[0]},comm_works:{arrayValue:{values:e.comm_works.map(e=>({booleanValue:e[0]}))}},runner:{booleanValue:e.runner[0]},golive:{booleanValue:e.golive[0]},level:{integerValue:e.level[0]},occ:{arrayValue:{values:h(e.occ)}},occp:{arrayValue:{values:h(e.occp)}},nb:{arrayValue:{values:h(e.nb)}}}})),(0,l.v_)(r).then(e=>{"ok"===e?document.location.assign("/forms/exit?url=https://discord.gg/tEXXCQMCh5"):alert("送信に失敗しました。"+e)})}function f(e){let{data:t}=e,r=[,,,].fill(0).map(()=>(0,n.useState)(!1));return(0,a.jsx)(a.Fragment,{children:2===t.state[0]&&(0,a.jsx)("div",{className:"modal-bg",children:(0,a.jsxs)("div",{className:"modal",children:[(0,a.jsx)("p",{children:"【最終確認】"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("input",{type:"checkbox",checked:r[0][0],onChange:e=>r[0][1](e.target.checked)}),"エントリー完了後のエントリー取消しは受け付けません。"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("input",{type:"checkbox",checked:r[1][0],onChange:e=>r[1][1](e.target.checked)}),"エントリー内容によっては希望に添えない場合があります。予めご了承ください。"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("input",{type:"checkbox",checked:r[2][0],onChange:e=>r[2][1](e.target.checked)}),"送信完了後、運営サーバーへの招待リンクが表示されますので参加してください（",(0,a.jsx)("b",{children:"外部に公開しないこと"}),"）。"]}),(0,a.jsxs)("p",{className:"right-container",children:[(0,a.jsx)("button",{className:"submit",onClick:()=>t.state[1](1),children:"修正"}),(0,a.jsx)("button",{className:"submit",onClick:()=>x(t,r),children:"送信"})]})]})})})}function j(){let e={is_edit:(0,n.useState)(!1),state:(0,n.useState)(0),clearsheet:(0,n.useState)(null),uid:(0,n.useState)(""),password:(0,n.useState)(""),accept:(0,n.useState)(!1),name:(0,n.useState)(""),discord:(0,n.useState)(""),date:Array(l.Xu.length).fill(0).map(()=>(0,n.useState)("")),refree:(0,n.useState)(!1),commentator:(0,n.useState)(!1),comm_works:Array(l.Ux.length).fill(0).map(()=>(0,n.useState)(!1)),runner:(0,n.useState)(!1),golive:(0,n.useState)(!1),level:(0,n.useState)(0),occ:Array(l.Ux.length).fill(0).map(()=>Array(l.ei.length).fill(0).map(e=>(0,n.useState)(!1))),occp:Array(l.a1.length).fill(0).map(()=>Array(l.ei.length).fill(0).map(e=>(0,n.useState)(!1))),nb:Array(l.et.length).fill(0).map(()=>Array(l.ei.length).fill(0).map(e=>(0,n.useState)(!1)))};return(0,a.jsx)("main",{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"right-container",children:(0,a.jsx)("button",{className:"submit",onClick:()=>(function(e){if(0===e.uid[0].trim().length){alert("Unexpected Error: UserIDを入力してください");return}if(0===e.password[0].trim().length){alert("Unexpected Error: パスワードを入力してください");return}if(0===e.name[0].trim().length){alert("名前を入力してください");return}if(0===e.discord[0].trim().length){alert("Discord IDを入力してください");return}if(!e.is_edit[0]&&null===e.clearsheet[0]){alert("クリアシートを選択してください");return}if(!e.accept[0]){alert("規約に同意してください");return}if(!e.refree[0]&&!function(e){if(!e.runner[0])return!1;for(let[t,r]of e.comm_works)if(t)return!0;return!1}(e)&&!function(e){if(!e.runner[0])return!1;for(let t of e.occ)for(let[e,r]of t)if(e)return!0;for(let t of e.occp)for(let[e,r]of t)if(e)return!0;for(let t of e.nb)for(let[e,r]of t)if(e)return!0;return!1}(e)){alert("審判員、実況者、選手のいずれか一つ以上で参加してください");return}if(null===e.name[0].match(/^.+（.+）$/)&&null===e.name[0].match(/^.+\(.+\)$/)){alert("名前は「名前（フリガナ）」の形式で入力してください");return}(function(e){let t=!1;for(let[r,a]of e.date){if(0===r.trim().length)continue;if(t=!0,0!==r.trim().length&&null===r.match(/^[0-9][0-9]:[0-9][0-9]-[0-9][0-9]:[0-9][0-9](,[0-9][0-9]:[0-9][0-9]-[0-9][0-9]:[0-9][0-9])*$/))return alert("時刻は「,」区切りの「hh:mm-hh:mm」で入力してください"),!1;let e=r.trim().split(",");for(let t of e){if(0===t.length)continue;let e=t.split(/-|:/);if(19>Number(e[0])||Number(e[2])>25||19===Number(e[0])&&30>Number(e[1])||25===Number(e[2])&&Number(e[3])>0)return alert("時刻は19:30から25:00までです"),!1}}return!!t||(alert("少なくとも一日以上は参加可能であってください"),!1)})(e)&&e.state[1](2)})(e),children:"送信"})}),(0,a.jsx)(d,{tabs:["全体","審判員","実況者","選手"],data:e}),(0,a.jsx)(p,{data:e}),(0,a.jsx)(f,{data:e})]})})}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(2265),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,r){var a,l={},o=null,u=null;for(a in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,a)&&!i.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:n,type:e,key:o,ref:u,props:l,_owner:c.current}}t.Fragment=l,t.jsx=o,t.jsxs=o},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,596,744],function(){return e(e.s=2427)}),_N_E=e.O()}]);